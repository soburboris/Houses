import {
    FETCH_HOUSES_START,
    FETCH_HOUSES_SUCCESS,
    FETCH_HOUSES_FAILURE,
    LOAD_MORE_HOUSES_FAILURE,
    LOAD_MORE_HOUSES_SUCCESS,
    LOAD_MORE_HOUSES_START,
    FETCH_HOUSES_BY_ID_FAILURE,
    FETCH_HOUSES_BY_ID_START,
    FETCH_HOUSES_BY_ID_SUCCESS,
    ADD_HOUSE_TO_BASKET,
    SEARCH_HOUSE,
    FETCH_CATEGORIES_FAILURE,
    FETCH_CATEGORIES_SUCCESS,
    FETCH_CATEGORIES_START,
    REMOVE_FROM_HOUSE_BASKET,
    CLEAN_BASKET,
    DEL_HOUSE_TO_BASKET
} from 'actionTypes'

// import * as R from 'ramda'

import {fetchHouses as fetchHousesApi,
        fetchHousesById as fetchHousesByIdApi

} from 'api'





export const fetchHouses = () => async dispatch => {
    dispatch({type: FETCH_HOUSES_START})

    try {
        const houses = await fetchHousesApi()
        dispatch({
            type: FETCH_HOUSES_SUCCESS,
            payload: houses
        })
    } catch (err) {
        dispatch({
            type: FETCH_HOUSES_FAILURE,
            payload: err,
            error: true
        })
    }
}

export const fetchHousesById = id => async dispatch => {
    dispatch({type: FETCH_HOUSES_BY_ID_START})

    try {
        const house = await fetchHousesByIdApi(id)
        dispatch({
            type:FETCH_HOUSES_BY_ID_SUCCESS,
            payload:house
        })
    } catch (err) {
        dispatch({
            type: FETCH_HOUSES_BY_ID_FAILURE,
            error:true
        })
    }
}

